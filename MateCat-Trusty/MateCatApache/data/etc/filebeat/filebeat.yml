filebeat.inputs:

- type: log
  enabled: true
  paths:
    - /var/www/matecat/local_storage/log_archive/ui_calls_time.log
  tags: ["UI"]
  fields:
    context: UI
  exclude_files: ['.gz$']
  json:
    json.keys_under_root: true
    json.add_error_key: true

- type: log
  enabled: true
  paths:
    - /var/www/matecat/local_storage/log_archive/api_calls_time.log
  tags: ["API"]
  fields:
    context: API
  exclude_files: ['.gz$']
  json:
    json.keys_under_root: true
    json.add_error_key: true

# ---------
output.logstash:
  # The LogStash hosts
  hosts: ["18.208.166.165:5044"]
  bulk_max_size: 1024
  index: "dev_matecat_mjolnir"



filebeat.config.modules:
  # Glob pattern for configuration loading
  path: ${path.config}/modules.d/*.yml

  # Set to true to enable config reloading
  reload.enabled: false

  # Period on which files under path should be checked for changes
  #reload.period: 10s

  #(https://www.elastic.co/guide/en/beats/filebeat/current/configuration-filebeat-options.html#_literal_tail_files_literal)
  tail_files: true

setup.template.settings:
  index.number_of_shards: 3

